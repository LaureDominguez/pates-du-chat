<div class="menu-tabs">

    <input type="radio" class="hidden" id="tab1" name="tab-control" checked>
    <input type="radio" class="hidden" id="tab2" name="tab-control">
    <input type="radio" class="hidden" id="tab3" name="tab-control">
    <input type="radio" class="hidden" id="tab4" name="tab-control">

    <ul>
        <li tabindex="0"><label for="tab1" role="button"><span>news</span></label></li>
        <li tabindex="0"><label for="tab2" role="button"><span>boutique</span></label></li>
        <li tabindex="0"><label for="tab3" role="button"><span>recettes</span></label></li>
        <li tabindex="0"><label for="tab4" role="button"><span>contact</span></label></li>
    </ul>

    <div class="contenu-tabs">

        <!--------------- news --------------->
        <section class="section-tab">
            <h2>news</h2>
            <!-- display -->
            <h3>Toutes les actus</h3>
            <ul>
                <li>pagination</li>
                <li>confirm avant suppression</li>
                <li>rester sur le bon onglet</li>
            </ul>
            <table class="dashboard-table">
                <thead>
                    <tr>
                        <th>id</th>
                        <th>titre</th>
                        <th>date de création</th>
                        <th colspan="3">actions</th>
                    </tr>
                </thead>
                <tbody>
                    <?php foreach ($news as $actu) : ?>
                        <tr>
                            <td><?= $actu["id"] ?></td>
                            <td><?= $actu["title"] ?></td>
                            <td><?= $actu["created_at"] ?></td>
                            <td><a href="index.php?route=newsDetail&id=<?= $actu['id'] ?>" data-text="Voir l'article" class="aide left">
                                    <i class="fa-solid fa-arrow-up-right-from-square"></i>
                                </a></td>
                            <td><a href="index.php?route=displayUpdateNewsForm&id=<?= $actu['id'] ?>" data-text="Modifier l'article" class="aide left">
                                    <i class="fa-solid fa-pen-to-square"></i>
                                </a></td>
                            <td><a href="index.php?route=deleteNews&id=<?= $actu['id'] ?>" data-text="Supprimer l'article" class="aide left">
                                    <i class="fa-solid fa-trash-can"></i>
                                </a></td>
                            <!-- onclick="confirmDelete()" -->
                        </tr>
                    <?php endforeach; ?>
                </tbody>
            </table>

            <hr>

            <div class="buttons">
                <a href="index.php?route=displayCreateNewsForm" class="btn">créer une nouvelle actu</a>
            </div>

        </section>

        <!--------------- shop --------------->
        <section class="section-tab">
            <h2>boutique</h2>

            <!-- produits -->
            <h3>Tous les produits</h3>

            <ul>
                <li>pagination</li>
                <li>confirm avant suppression</li>
                <li>activer/masquer un produit</li>
                <li>update form à faire</li>
                <li style="color:red">bug "catégorie" dans un produit modifié</li>
            </ul>

            <table class="dashboard-table">
                <thead>
                    <tr>
                        <th>id</th>
                        <th>produit</th>
                        <th>categorie</th>
                        <th>prix</th>
                        <th>en ligne</th>
                        <th colspan="2">actions</th>
                    </tr>
                </thead>
                <tbody>
                    <?php foreach ($products as $product) : ?>
                        <?php if ($product['categoryActive']) : ?>
                            <tr>
                                <td><?= $product["id"] ?></td>
                                <td><?= $product["name"] ?></td>
                                <td><?= $product["category"] ?></td>
                                <td><?= $product["price"] ?>€</td>
                                <td>
                                    <!-- ajax -->
                                    <form action="">
                                        <label class="switch">
                                            <input type="checkbox" <?php if ($product['active']) :
                                                                        echo 'checked';
                                                                    endif; ?> />
                                            <span></span>
                                        </label>
                                    </form>
                                </td>
                                <td><a href="index.php?route=shopDetail&id=<?= $product['id'] ?>" data-text="Voir le produit" class="aide left">
                                        <i class="fa-solid fa-arrow-up-right-from-square"></i>
                                    </a></td>
                                <td><a href="index.php?route=displayUpdateProdForm&id=<?= $product['id'] ?>" data-text="Modifier le produit" class="aide left">
                                        <i class="fa-solid fa-pen-to-square"></i>
                                    </a></td>
                            </tr>
                        <?php endif; ?>
                    <?php endforeach; ?>
                </tbody>
            </table>

            <hr>

            <!-- category -->
            <h3>Toutes les catégories</h3>
            <ul>
                <li>pagination</li>
                <li>confirm avant suppression</li>
                <li>n'affiche toujours pas le bon nombre de produits</li>
            </ul>
            <table class="dashboard-table">
                <thead>
                    <tr>
                        <th>id</th>
                        <th>categorie</th>
                        <th>nombre de produits</th>
                        <th>en ligne</th>
                        <th>modifier</th>
                    </tr>
                </thead>
                <tbody>
                    <?php foreach ($categories as $category) : ?>
                        <tr>
                            <td><?= $category["id"] ?></td>
                            <td><?= $category["name"] ?></td>
                            <td><?= $nbProducts['nbProducts'] ?></td>
                            <td>
                                <!-- ajax -->
                                <form action="index.php?route=switchCat&id=<?= $category['id'] ?>" method="post">
                                    <label class="switch">
                                        <input type="checkbox" name="switch" class="switchCat" data-toggle="toggle" data-on="En ligne" data-off="Hors Ligne"
                                        onclick="getValue()" 
                                        <?php if ($category['active']) : echo 'checked'; endif; ?> />
                                        <span></span>
                                    </label>
                                </form>
                            </td>
                            <td><a href=" index.php?route=displayUploadCatForm&id=<?= $category['id'] ?>"><i class="fa-solid fa-pen-to-square"></i></a>
                            </td>
                        </tr>
                    <?php endforeach; ?>
                </tbody>
            </table>

            <hr>

            <div class="buttons">
                <a href="index.php?route=displayCreateProdForm" class="btn">créer un produit</a>
                <a href="index.php?route=displayCreateCatForm" class="btn">créer une catégorie</a>
            </div>
        </section>

        <!--------------- recipes --------------->
        <section class="section-tab">
            <h2>recettes</h2>

            <ul>
                <li>updat form à faire</li>
            </ul>
            
            <table class="dashboard-table">
                <thead>
                    <tr>
                        <th>id</th>
                        <th>recette</th>
                        <th>produit</th>
                        <th>difficulté</th>
                        <th colspan="3">actions</th>
                    </tr>
                </thead>
                <tbody>
                    <?php foreach ($recipes as $recipe) : ?>
                        <tr>
                            <td><?= $recipe["id"] ?></td>
                            <td><?= $recipe["name"] ?></td>
                            <td><?= $recipe["product_id"] ?></td>
                            <td><?= $recipe["difficulty"] ?></td>
                            <td>
                                <a href="index.php?route=recipeDetail&id=<?= $recipe['id'] ?>" data-text="Voir la recette" class="aide left">
                                    <i class="fa-solid fa-arrow-up-right-from-square"></i>
                                </a>
                            </td>
                            <td>
                                <a href="index.php?route=displayUpdateRecipesForm&id=<?= $recipe['id'] ?>" data-text="Modifier la recette" class="aide left">
                                    <i class="fa-solid fa-pen-to-square"></i>
                                </a>
                            </td>
                            <td>
                                <a href="" data-text="Supprimer la recette" class="aide left">
                                    <i class="fa-solid fa-trash-can"></i>
                                </a>
                            </td>
                        </tr>
                    <?php endforeach; ?>
                </tbody>
            </table>

            <hr>

            <div class="buttons">
                <a href="index.php?route=displayCreateRecipesForm" class="btn">créer une recette</a>
            </div>
        </section>

        <section class="section-tab">
            <h2>contact</h2>

        </section>

    </div>

</div>